(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{120:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createContext({}),u=function(e){var t=r.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=u(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},f={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},m=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),p=u(n),m=a,d=p["".concat(i,".").concat(m)]||p[m]||f[m]||o;return n?r.a.createElement(d,l(l({ref:t},s),{},{components:n})):r.a.createElement(d,l({ref:t},s))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var s=2;s<o;s++)i[s]=n[s];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},97:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return l})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),o=(n(0),n(120)),i={title:"Formula Best Practices"},l={unversionedId:"formula/best_practices",id:"formula/best_practices",isDocsHomePage:!1,title:"Formula Best Practices",description:"In Huayan Rubik's cube, if you need to build more complex formulas, please refer to the following tips to help you plan the formula logic and more easily troubleshoot errors.",source:"@site/docs/formula/best_practices.md",slug:"/formula/best_practices",permalink:"/docs/formula/best_practices",editUrl:"https://github.com/steedos/steedos.org/tree/master/docs/formula/best_practices.md",version:"current",sidebar:"someSidebar",previous:{title:"Using Date, DateTime, and Time Values in Formulas",permalink:"/docs/formula/date"},next:{title:"API for Steedos integration",permalink:"/docs/api"}},c=[{value:"Formula field restrictions and constraints",id:"formula-field-restrictions-and-constraints",children:[]},{value:"Place each function on a separate line",id:"place-each-function-on-a-separate-line",children:[]},{value:"Indentation in parentheses",id:"indentation-in-parentheses",children:[]},{value:"Write statements and function names in uppercase letters",id:"write-statements-and-function-names-in-uppercase-letters",children:[]}],s={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"In Huayan Rubik's cube, if you need to build more complex formulas, please refer to the following tips to help you plan the formula logic and more easily troubleshoot errors."),Object(o.b)("h2",{id:"formula-field-restrictions-and-constraints"},"Formula field restrictions and constraints"),Object(o.b)("p",null,"Before you create a formula field, understand its limitations."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"You cannot delete fields referenced in formulas. Remove the field from the formula before deleting it."),Object(o.b)("li",{parentName:"ul"},"Formula fields are read-only, which is not only read-only to users on the interface, but also cannot be changed by background automatic operation, including but not limited to workflow rules and field update operations in the approval process."),Object(o.b)("li",{parentName:"ul"},"Including formulas referenced across objects, two formula fields cannot refer to each other. For example, if formula field A refers to formula field B, formula field B can no longer refer to formula field A."),Object(o.b)("li",{parentName:"ul"},"Recurring references cannot occur between multiple formula fields, including formulas referenced across objects. For example, A references B and B references C. If C references A again, it will cause a circular reference, which is not supported."),Object(o.b)("li",{parentName:"ul"},"Before you create a formula field, plan its implementation.Especially in production environments, once valuable historical data is generated and some field properties of the object are modified, such as field type and field formula expression, manual execution of ",Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"/docs/formula/create#recalculate-formula-value"}),"Recalculate Formula Value"),"  is required to correct historical data, which increases the risk of uncertainty.")),Object(o.b)("h2",{id:"place-each-function-on-a-separate-line"},"Place each function on a separate line"),Object(o.b)("p",null,"Easily develop the habit of keeping the entire formula on one line, especially when it is small.Placing each function on its own line will make the formula easier to read and troubleshoot.These examples show the same formula, one without a line break and the other with each function on a separate line."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),'IF(AND(ISBLANK(myDate_c),active_c=true),"Missing Date","Not Applicable")\n')),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),'IF(\nAND(\nISBLANK(myDate_c),\nactive_c=true\n),\n"Missing Date",\n"Not Applicable"\n)\n')),Object(o.b)("h2",{id:"indentation-in-parentheses"},"Indentation in parentheses"),Object(o.b)("p",null,"When formulas involve multiple functions, indentation helps visually isolate each function and makes it easier to find errors, such as misplaced characters."),Object(o.b)("p",null,"In this example, by indenting, you will see that most of the formula is in a single IF statement, and the AND statement contains two functions.In the AND statement, the function ISBLANK is enclosed in parentheses."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),'IF(\n  AND(\n    ISBLANK(myDate_c),\n    active_c=true\n  ),\n  "Missing Date",\n  "Not Applicable"\n)\n')),Object(o.b)("p",null,'Indentation can also help you focus on error resolution.By using a flat layout, it is difficult to find the extra ")" contained after the ISBLANK statement, and there are no visual tips on how to construct the formula.'),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),'IF(\nAND(\nISBLANK(myDate_c)\n),\nactive_c=true\n),\n"Missing Date",\n"Not Applicable"\n)\n')),Object(o.b)("p",null,"By indenting the layout, you can easily see the structure of the formula.We can quickly find and remove extra characters to properly format the AND statement."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),'IF(\n  AND(\n    ISBLANK(myDate_c)\n    ),\n    active_c=true\n  ),\n  "Missing Date",\n  "Not Applicable"\n)\n')),Object(o.b)("h2",{id:"write-statements-and-function-names-in-uppercase-letters"},"Write statements and function names in uppercase letters"),Object(o.b)("p",null,"All the examples here use uppercase letters for statement and function names, such as IF, AND, and ISBLANK. Using uppercase letters for these terms clearly distinguishes functions from parameters and makes complex formulas easier to distinguish."))}u.isMDXComponent=!0}}]);